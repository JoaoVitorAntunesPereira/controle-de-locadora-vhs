# controle-de-locadora-vhs
 Atividade de WEB-III


Este projeto foi desenvolvido para o trabalho semestral da disciplina de Desenvolvimento Web III, com o objetivo de criar um sistema de gerenciamento para uma locadora de fitas VHS. O sistema permite o cadastro, listagem e controle de fitas VHS.
Sobre as tecnologias utilizadas. Todo o projeto foi desenvolvido com base no Spring Boot, um framework Java para desenvolvimento Web. Para a camada de persistência de dados utilizei Spring Boot JPA, facilitando a implementação do ORM. O banco de dados é MySQL, fiz essa escolha por ser o Banco de Dados que mais utilizo para aplicações Web. Seu frontend utiliza o Thymeleaf, que permite a integração entre o Java(backend) e o HTML e CSS(frontend), juntamente com o Bootstrap para esse serviço se tornar mais simples. 
Das funcionalidades implementadas. O sistema permite o cadastro de filmes, com informações como gênero, classificação, data de lançamento e país de origem. A aplicação conta com a funcionalidade de registro de locações, permitindo registrar a retirada e a devolução de filmes. Além disso, há telas para listar e buscar filmes, e é possível editar ou excluir tanto os filmes quanto os clientes e as locações, facilitando a manutenção dos dados.
	Seu processo de desenvolvimento começou com uma base que está descrita em um passo a passo no PDF da descrição da atividade, como um protótipo, após isso comecei a implementar a modelagem das entidades e por consequência do banco de dados. Após isso fiz a primeira controller, para autenticação de usuário, dela então partiram as primeiras páginas, de login e cadastro, com isso feito desenvolvi as controllers de cadastro de VHS e gênero, já que ambas estavam conectadas. Para esta primeira etapa preferi não adicionar imagens à entidade VHS, por nunca ter tido contato com armazenamento de imagens, deixando assim para o final. Aqui me deparei com os dois maiores erros, o primeiro era um problema no cadastro e edição de VHS onde os erros das validações nos campos não estavam aparecendo, o problema estava na controller, mesmo passando na model o objeto VHS e os erros eles não estavam vinculados, assim se fez necessário a anotação '@ModelAttribute("vhs") VHS vhs'. O segundo erro foi também na parte do cadastro de VHS, onde não podia ser adicionado o status 'INDISPONIVEL', isso ocorreu devido a uma configuração do banco de dados 'CONSTRAINT vhs_chk_1 CHECK ((status between 0 and 2))\n)', isso fazia com que apenas 'DISPONIVEL' e 'EMPRESTADA' pudessem ser adicionadas no campo status, apenas removi essa verificação e o problema deixou de existir.
	Na segunda etapa desenvolvi aquilo que ainda estava em dúvida de que como faria, primeiramente adicionei o campo de imagens, usei como base um material que meu professor disponibilizou, onde o caminho da imagem era armazenado em um campo do tipo MultipartFile na entidade VHS, aqui me deparei com um problema, a anotação '@Entity' do SPring não suportava este tipo, tive então que mudar minha abordagem alterando o tipo do campo para String e armazenando somente o nome do arquivo. Nesta etapa eu desenvolvi a parte de exclusão de gêneros, já que isso poderia interferir na integridade referencial do banco de dados, decidi por apenas desvincular esse gênero das entidades VHS que possuíam alguma relação deixando assim seu valor como null, mas isso gerou um problema, no frontend a página tentava pegar o campo 'vhs.genre.description' o que gerava um erro, apenas fiz uma condição para caso genre seja igual a null o valor exibido seria 'Sem categoria'. Como ainda assim poderia ser um problema a exclusão de gênero adicionei algo a mais na página de listagem de gêneros, a quantidade de fitas VHS que faziam referência a ela, para isso fiz uso de uma DTO(Data Transfer Object) já que a entidade 'genre' não poderia armazenar este campo que queria, por isso tive que fazer uma query próprio no Repository de 'Genre'. Fiz também alguns tratamentos de erro.
	Como baixar e instalar: pré-requisitos: Java 17+, Maven, IDE como IntelliJ ou VSCode. Clonar repositório 'git clone https://github.com/SEU_USUARIO/controle-de-locadora-vhs.git', fazer alterações necessárias no arquivo 'applications.properties' para o banco de dados, rodar e acessar no navegador: 'http://localhost:8080'
